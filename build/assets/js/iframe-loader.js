"use strict";function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],_n=!0,r=!1,o=void 0;try{for(var a,i=t[Symbol.iterator]();!(_n=(a=i.next()).done)&&(n.push(a.value),!e||n.length!==e);_n=!0);}catch(t){r=!0,o=t}finally{try{_n||null==i.return||i.return()}finally{if(r)throw o}}return n}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _createForOfIteratorHelper(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}!function(){var t,e,n,r,o,a,i=(a=null,document.currentScript&&(a=document.currentScript.dataset.consentCookie||null),a),c=Boolean(i),l=[],u=null;function s(){for(var t=document.querySelectorAll("[data-bottimmo]"),e=function(e){var n=t[e],r=n.dataset,o="https://"+r.company+"."+window.BOTTIMMO_LP_DOMAIN;if(console.log("****landingpageDomain",o),"HEAD"===n.parentElement.tagName)return d("If iFrame loader script is placed in the <head> section you should remove all data-* attributes and set them on a dummy <div> inside the body exactly where you want the content to be."),"continue";if(!r.company||!r.slug)return d("Missing attributes on placeholder element: data-company, data-slug"),"continue";if(void 0!==r.initialized)return"continue";var a=document.createElement("iframe"),i=new URL("".concat(o,"/").concat(r.slug,"/embed/"));r.variant&&i.searchParams.append("variant",r.variant);var c,u=document.location.search.split(/[?&]/).filter((function(t){return/^(utm_|gclid|fbclid)/.test(t)})),s=_createForOfIteratorHelper(u);try{for(s.s();!(c=s.n()).done;){var f=_slicedToArray(c.value.split(/=(.+)/),2),m=f[0],y=f[1];i.searchParams.append(m,y)}}catch(t){s.e(t)}finally{s.f()}a.src=i.href,a.style.cssText="width: 100%; height: 500px; overflow: auto; border: none;",n.parentNode.insertBefore(a,n),l.push(a);var p=document.createElement("script");p.src="/wp-content/plugins/bottimmo-widget/build/assets/js/resizer.js",p.async=!0,p.onload=function(){window.iFrameResize({checkOrigin:!1,log:!1},a)},n.parentNode.insertBefore(p,n),n.setAttribute("data-initialized","")},n=0;n<t.length;n++)e(n)}function d(t){window.console&&console.warn("BOTTIMMO: ".concat(t))}window.addEventListener("bottimmo:element-added",(function(){s()})),s(),l.length>0&&(t=new Map,e=function(e){return t.set(e,!0)},n=function(e){return t.has(e)},r=function(){clearInterval(u),u=null},o=function(){var t,e=c?(t=(document.cookie.split("; ")||[]).find((function(t){return t.startsWith(i)})))?t.split("=")[1].split(",").map((function(t){return t.trim()})).filter((function(t){return Boolean(t)})).join(","):null:window.Cookiebot?function(){try{var t=window.Cookiebot;if(t.consented||t.declined){var e=t.consent;return Object.entries({mandatory:e.necessary,marketing:e.marketing,analytics:e.statistics}).filter((function(t){var e=_slicedToArray(t,2),n=(e[0],e[1]);return Boolean(n)})).map((function(t){var e=_slicedToArray(t,2),n=e[0];return e[1],n})).join(",")}}catch(t){}return null}():window.BorlabsCookie?function(){try{var t=window.BorlabsCookie;if(t.checkCookieGroupConsent("essential"))return Object.entries({mandatory:!0,marketing:t.checkCookieGroupConsent("marketing"),analytics:t.checkCookieGroupConsent("statistics")}).filter((function(t){var e=_slicedToArray(t,2),n=(e[0],e[1]);return Boolean(n)})).map((function(t){var e=_slicedToArray(t,2),n=e[0];return e[1],n})).join(",")}catch(t){}return null}():void 0;if(null!==e){var o=l.filter((function(t){return!n(t)}));0===o.length?r():o.forEach((function(t){var n="bottimmo:consent-given:".concat(e);t.contentWindow.postMessage(n,"*")}))}},l.forEach((function(t){window.addEventListener("message",(function(n){n.source===t.contentWindow&&("bottimmo:consent-ready"===n.data?o():"bottimmo:consent-received"===n.data&&e(t))}))})),u=setInterval(o,1e3),setTimeout((function(){u&&(clearInterval(u),u=setInterval(o,5e3),setTimeout((function(){clearInterval(u)}),12e4))}),3e4))}();